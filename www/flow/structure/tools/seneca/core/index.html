<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>Your Stack Your Way</title><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0"><link href="//fonts.googleapis.com/" rel="dns-prefetch"><link href="//fonts.googleapis.com/css?family=Droid+Serif:200,400,700,400italic" rel="stylesheet"><link href="/assets/css/main.css" rel="stylesheet" media="only all"><meta name="description"></head><body><div class="__page-container"><nav data-scroll-header="" data-js="trigger-overlay" id="trigger-overlay" class="SiteNav engineer engineer"><div class="SiteNav__bar"><a class="_SiteNav__logo SiteNav__a" href="/"><div class="LogoContainer"><?xml version="1.0" encoding="UTF-8" standalone="no"?><?xml-stylesheet href="../main.css" type="text/css"?><!DOCTYPE svg PUBLIC “-//W3C//DTD SVG 1.1//EN” “http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd”><svg viewbox="0 0 207 219" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns"><title>logo</title><description>dreamineering logo created with Sketch</description><defs></defs><g id="icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="256" transform="translate(-22.000000, -18.000000)" fill="#000000"><g id="logo" transform="translate(21.500000, 17.500000)"><path class="bd-logo-svg" d="M69.3045933,107.986937 L90.0502585,17.6043327 L0.660870037,17.6043327 L21.0954805,107.986937 L69.3045933,107.986937 Z M69.3045933,107.986937" id="dream"></path><path class="bd-logo-svg" d="M57.5705067,219.34676 L57.5705067,128.964156 L146.959895,174.155458 L57.5705067,219.34676 Z M57.5705067,219.34676" id="engine"></path><g id="reality" transform="translate(117.552961, 0.540079)"><path class="bd-logo-svg" d="M62.0906971,107.041504 C67.1464577,111.993692 69.6743002,118.115055 69.6743002,125.405775 C69.6743002,132.834057 67.1113488,139.196147 61.9853693,144.492237 C56.8593897,149.788327 50.6451104,152.436332 43.342345,152.436332 C36.1800174,152.436332 30.0710649,149.788327 25.0153043,144.492237 C19.9595436,139.196147 17.4317012,132.834057 17.4317012,125.405775 C17.4317012,117.977494 19.9244347,111.821742 24.9099764,106.938334 C29.8955182,102.054927 36.0395796,99.6132597 43.342345,99.6132597 C50.7855482,99.6132597 57.0349364,102.089316 62.0906971,107.041504 Z M62.0906971,107.041504" id="?"></path><path class="bd-logo-svg" d="M26.9075929,91.057101 L26.9075929,87.7258314 C26.9075929,82.0568004 27.5008197,77.4544345 28.6872911,73.9185956 C29.8737625,70.3827567 31.6399605,67.1537952 33.9859381,64.2316143 C36.3319157,61.3094333 41.6035449,56.1664721 49.8009838,48.8025761 C54.1693558,44.9452973 56.3535091,41.4095115 56.3535091,38.1951124 C56.3535091,34.9807134 55.4771513,32.4822862 53.7244094,30.6997559 C51.9716675,28.9172255 49.3156293,28.0259737 45.7562151,28.0259737 C41.9271482,28.0259737 38.7587777,29.3993781 36.2510086,32.1462282 C33.7432394,34.8930782 32.1388306,39.6853831 31.4377338,46.5232864 L0.0503286328,42.3153669 C1.12893902,29.8084326 5.32197398,19.7416703 12.6295593,12.1147781 C19.9371447,4.48788594 31.1410419,0.674497044 46.2415873,0.674497044 C57.9984405,0.674497044 67.4900695,3.33364179 74.716759,8.65201107 C84.5321135,15.8405761 89.4397171,25.4251858 89.4397171,37.4061275 C89.4397171,42.3738351 88.1723689,47.1661399 85.6376345,51.7831858 C83.1029001,56.4002316 77.925648,62.0399562 70.1057227,68.7025287 C64.6587403,73.3780182 61.2207212,77.1329643 59.7915625,79.9674798 C58.3624037,82.8019953 57.6478351,86.4984987 57.6478351,91.057101 L26.9075929,91.057101 Z M26.9075929,91.057101" id="?"></path></g></g></g></g></svg></div></a> <a class="_SiteNav__returnlink u-linkBorderBottom" href="../">engineer</a></div></nav><header class="u-z200 u-sizeFullHeight Banner engineer engineer" role="banner"><div class="u-pullBottom"><div class="_site-width"><div class="_copy-width"><h1>Seneca Core</h1></div></div></div><div class="u-bottomRight"><a class="u-linkClean" href="#content" data-scroll=""><i class="icon ion-chevron-down"></i></a></div></header><div id="content" class="__content-container"><div class="__content content" role="main"><section class="__section"><div class="_site-width "><div class="_copy-width _copy-- markdown"><p>[<em>Define the main actors and provide and overview of and get into details of how under api</em>]</p><ul><li>JSON Commands</li><li>Pattern Matching</li><li>Pinning</li><li>Plugins</li><li>Transports</li><li>Data Entities</li></ul><h3 id="json-commands-and-pattern-matching">JSON Commands and Pattern Matching</h3><p>With Seneca <em>Everything runs as a command</em> you send the micro-service JSON objects. It responds with a new JSON object.</p><p>You create an object with methods that matched all the cmd properties then if you send the micro-service JSON objects and Seneca responds with a new JSON object.</p><pre><code>require(&#39;seneca&#39;)()
  .add(
        { generate:&#39;id&#39;},
        function( message, done ) {
          done( null,
                {id:&#39;&#39;+Math.random()} )
        })
  .listen()
</code></pre><ol><li>load seneca module, and create instance</li><li>add a JSON message pattern to match</li><li>the pattern is {…,”generate”:”id”,…}</li><li>the action function for the pattern,</li><li>done is a regular callback function</li><li>send back JSON result, {“id”:”0.123456789”}</li><li>listen for messages (HTTP is the default)</li></ol><pre><code>require(&#39;seneca&#39;)()
  .client()
  .act( { generate:&#39;id&#39; },
        function( err, result ) {
          console.log(JSON.toString(result))
        })
</code></pre><ol><li>Register as a client</li><li>Send a message: {“generate”:”id”}</li><li>The result arrives via a callback function</li><li>Print out the result: {“id”:”0.123456789”}</li></ol><p>seneca.add adds a new command whilst seneca.act acts on the provided pattern, running a command if it matches</p><h3 id="pinning">Pinning</h3><p>By pinning a pattern you create an object with methods that matched all the cmd properties.</p><p>Seneca achieves this by <em>pinning a pattern</em></p><h3 id="plugins">Plugins</h3><p>Catagories Core, Transport, Data Stores</p><h3 id="transports">Transports</h3><p>The <strong>main benefit of Seneca</strong> is realized through the concept of transports which allow calling business logic and data transfer between machines easily this has the advantage that if a product command needs to live on a separate server you move it there with no changes to your calling code.</p><h3 id="available-transport-plugin-options">Available Transport Plugin Options</h3><ul><li>HTTP (Default)</li><li>Pub/Sub: Redis</li><li>Message Bus: Kaftka</li></ul><h5 id="transport-servers">Transport Servers</h5><p>The default transport type of plugin is HTTP, with dependency on either express or connect.</p><ul><li>Seneca exposes any plugin HTTP interface by returning a middleware function from the seneca.service method</li><li>There is no need to ‘transport’ the remote patterns</li></ul><h5 id="transport-client">Transport Client</h5><p>The pins option to the transport plugin accepts a set of patterns that will be sent over to the server (running on localhost by default). The transport plugin just calls seneca.add for each pin, and proxies the input and output to the remote server.</p><blockquote><p>Split logic between machines easily with transports</p></blockquote><p>In the calling code the seneca.act call, does not change therefore</p><p><strong>You now have a distributed system with no refactoring</strong></p><p><strong>You can fire up multiple servers, put them behind a load balancer, and now you have a scalable system too.</strong></p><p class="u-textCenter u-paddingTl"><br><a class="u-linkBorderBottom" href="/#engineerConnection">Jump back in the flow</a><br></p><p class="u-textCenter"><br><a class="u-linkBorderBottom" target="_blank" href="https://drive.google.com/a/dreamineering.com/#folders/0B_isMPC-_gvmazkydHptZWNPYWs">Google Docs</a><br></p></div></div></section></div></div><div data-js="SiteNavOverlay" class="SiteNavOverlay SiteNavOverlay--drmg"><nav class="SiteNavOverlay-nav"><ul><li><a class="u-linkClean" href="/values">Values</a></li><li><a class="u-linkClean" href="/archetypes">Archetypes</a></li><li><a class="u-linkClean" href="/flow">Flow</a></li><li><a class="u-linkClean" href="/engineer">Stack</a></li></ul></nav></div><footer data-js="footer" class="__Pagefooter Pagefooter" role="contentinfo"><div class="u-cf u-paletteBody"><div class="_site-width"><p class="u-marginAn u-paddingAl">&copy; 2014 stackmates <span class="u-hidden"><span class="g-plusone" data-annotation="none"></span></span></p></div></div></footer></div><script src="/assets/js/app.js"></script><script type="text/javascript">
      (function() {
        var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
        po.src = 'https://apis.google.com/js/platform.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
      })();
    </script><script>
       // ensure all non-essential stuff is loaded after window.load
        // http://www.feedthebot.com/pagespeed/defer-loading-javascript.html
        if (window.addEventListener)
          window.addEventListener("load", afterWindowLoad, false);
        else if (window.attachEvent)
          window.attachEvent("onload", afterWindowLoad);
        else
          window.onload = afterWindowLoad;
    
        function afterWindowLoad() {
        }
    
    </script></body></html>